spring:
  application:
    name: transaction-service
server:
  port: 8084
---
spring:
  r2dbc:
    url: r2dbc:postgresql://localhost:5432/db_transaction_banking
    username: postgres
    password: 1111
  data:
    redis:
      host: localhost
      port: 6379
      database: 0
  rabbitmq:
    listener:
      simple:
        acknowledge-mode: auto
    host: localhost
    password: guest
    username: guest
---
james-config-rabbitmq:

  start-transaction:
    queue:
      transfer-queue: transfer-queue
      deposit-queue: deposit-queue
      withdraw-queue: withdraw-queue
    exchange:
      exchange: start-handle-topic-exchange
    routing:
      transfer-queue: transfer
      deposit-queue: deposit
      withdraw-queue: withdraw

  done-transaction:
    queue:
      queue-success: success-transaction-queue
    exchange:
      exchange-success: success-transaction-exchange
    routing:
      key-success: transaction.success


  fail-transaction:
    queue:
      queue-fail: fail-transaction-queue
    exchange:
      exchange-fail: fail-transaction-exchange
    routing:
      key-fail: transaction.fail


  retry-transaction:
    queue:
      retry-transfer-queue: retry-transfer-queue
      retry-deposit-queue: retry-deposit-queue
      retry-withdraw-queue: retry-withdraw-queue
    exchange:
      exchange-retry: try-transaction-exchange
    routing:
      retry-transfer-queue: transfer.try
      retry-deposit-queue: deposit.try
      retry-withdraw-queue: withdraw.try